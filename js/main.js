(()=>{var t={798:function(t,e,n){t=n.nmd(t),function(n,i){"use strict";var o={};n.PubSub=o,function(t){var e={},n=-1,i="*";function o(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function s(t){return function(){throw t}}function r(t,e,n){try{t(e,n)}catch(t){setTimeout(s(t),0)}}function c(t,e,n){t(e,n)}function d(t,n,i,o){var s,d=e[n],a=o?c:r;if(Object.prototype.hasOwnProperty.call(e,n))for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&a(d[s],t,i)}function a(t,e,n){return function(){var o=String(t),s=o.lastIndexOf(".");for(d(t,t,e,n);-1!==s;)s=(o=o.substr(0,s)).lastIndexOf("."),d(t,o,e,n);d(t,i,e,n)}}function l(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,n)&&o(e[n]))}function u(t){for(var e=String(t),n=l(e)||l(i),o=e.lastIndexOf(".");!n&&-1!==o;)o=(e=e.substr(0,o)).lastIndexOf("."),n=l(e);return n}function p(t,e,n,i){var o=a(t="symbol"==typeof t?t.toString():t,e,i);return!!u(t)&&(!0===n?o():setTimeout(o,0),!0)}t.publish=function(e,n){return p(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return p(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,i){if("function"!=typeof i)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var o="uid_"+String(++n);return e[t][o]=i,o},t.subscribeAll=function(e){return t.subscribe(i,e)},t.subscribeOnce=function(e,n){var i=t.subscribe(e,(function(){t.unsubscribe(i),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,i,o=0;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)){for(i in e[n])o++;break}return o},t.getSubscriptions=function(t){var n,i=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&i.push(n);return i},t.unsubscribe=function(n){var i,o,s,r=function(t){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t))return!0;return!1},c="string"==typeof n&&(Object.prototype.hasOwnProperty.call(e,n)||r(n)),d=!c&&"string"==typeof n,a="function"==typeof n,l=!1;if(!c){for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(o=e[i],d&&o[n]){delete o[n],l=n;break}if(a)for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&o[s]===n&&(delete o[s],l=!0)}return l}t.clearSubscriptions(n)}}(o),void 0!==t&&t.exports&&(e=t.exports=o),e.PubSub=o,t.exports=e=o}("object"==typeof window&&window||this)}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";class Task{constructor(t,e=null){this._title=t,this._dueDate=e,this._isDone=!1}set title(t){this._title=t}get title(){return this._title}set dueDate(t){this._dueDate=t}get dueDate(){return this._dueDate}set isDone(t){this._isDone=t}get isDone(){return this._isDone}}class TaskList extends Task{constructor(t,e=null){super(t,e),this._tasks=[],this._isDone=!1}set tasks(t){this._tasks=t}get tasks(){return this._tasks}set isDone(t){this._isDone=t}get isDone(){return this._isDone}}class Project{constructor(t,e=null){this._title=t,this._description=e,this._tasks=[],this._isDone=!1}set title(t){this._title=t}get title(){return this._title}set description(t){this._description=t}get description(){return this._description}set tasks(t){this._tasks=t}get tasks(){return this._tasks}set isDone(t){this._isDone=t}get isDone(){return this._isDone}}var t=n(798),e=n.n(t);function i(t){return`${t.map(((t,e)=>`<li data-idx="${e}"><div class="circle-status"></div>${t.title}</li>`)).join("")}`}function o(t){return e().subscribe("projectsUpdated",((t,e)=>function(t,e){console.log("projects changed, need to refresh."),document.querySelector("#projects ul").innerHTML=i(e)}(0,e))),function(t){return`\n    <div id="projects">\n    <ul>\n    ${i(t)}\n    </ul>\n    </div>`}(t)}function s(t){e().publish("addProjectClick",null)}function r(t){"li"===t.target.nodeName.toLowerCase()&&console.log(`Clicked on ${t.target.textContent}`)}function c(t){"li"===t.target.nodeName.toLowerCase()&&(console.log(`Clicked on ${t.target.textContent}`),e().publish("getProject",t.target.dataset.idx))}function d(t,e){const n=document.createElement("div");n.setAttribute("id","side-nav"),n.innerHTML=function(t){return`\n        \n    <div id="navigation">\n    <div id="search">\n        <input type="text" name="search-query" size="15"> \n    </div>\n    <nav>\n        <ul>\n            <li>Inbox</li>\n            <li>Upcoming</li>\n            <li>Due Today</li>\n            <li>Urgent</li>\n        </ul>\n    </nav>\n    </div>\n\n        ${o(t)}\n        <div id="add-project">\n            <div id="add-project-btn">+ New Project</div>\n        </div>\n    `}(e),n.querySelector("#add-project-btn").addEventListener("click",s);n.querySelector("nav ul").addEventListener("click",r);n.querySelector("#projects ul").addEventListener("click",c),t.appendChild(n)}function a(t){return`\n        <div class="task">\n            <div class="task-title">\n                <h2>${t.title}</h2></span>\n                <div class="edit-task-btn">...</div>\n            </div>                           \n        </div>\n    `}function l(t){return`\n        <div class="task">\n            <div class="task-title">\n                <h2>${t.title}</h2>\n                <div class="edit-task-btn">...</div>\n            </div>\n            <div class="task-todos">\n                <ul>\n                ${t.tasks.map((t=>function(t){return`<li><input type="checkbox" value="done" ${t.isDone?"checked":""}>${t.title}</li>`}(t))).join("")}                                                       \n                </ul>\n            </div>                            \n        </div>\n    `}function u(t,e){let n=document.querySelector("#main-todos"),i=`\n        ${o=e.title,s=e.description,`\n        <div class="project-details">\n        <h1 class="project-title">${o}</h1>\n        <p class="project-description">${s}</p>\n        </div>\n    `}\n        <div class="project-todos">\n        ${function(t){document.createElement("div").classList.add("project-todos");let e="";for(const n of t)"TaskList"===n.constructor.name?e+=l(n):"Task"===n.constructor.name&&(e+=a(n));return e}(e.tasks)}\n        </div>\n    `;var o,s;n.innerHTML=i}const p=`\n    ${PubSub.subscribe("returnProject",((t,e)=>u(0,e))),'\n    <div id="main-todos">\n    <div class="project-details">\n        <h1 class="project-title">Project Title</h1>\n        <p class="project-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Potenti nullam ac tortor vitae purus faucibus ornare suspendisse sed.</p>\n    </div>\n    <div class="project-todos">\n        <div class="task">\n            <div class="task-title">\n                <h2>A task</h2>\n                <div class="edit-task-btn">...</div>\n            </div>\n            <div class="task-todos">\n                <ul>\n                    <li><input type="checkbox" value="done"> todo item 1</li>\n                    <li><input type="checkbox" value="done"> todo item 2</li>\n                    <li><input type="checkbox" value="done"> todo item 3</li>\n                    <li class="done"><input type="checkbox" value="done" checked> todo item 4</li>                                                             \n                </ul>\n            </div>                            \n        </div>\n        <div class="task">\n            <div class="task-title">\n                <h2>A task without todos, checkbox</h2></span>\n                <div class="edit-task-btn">...</div>\n            </div>                           \n        </div>                        \n    </div>\n    </div>\n'}\n    \n    <div id="main-aside">\n    <div id="main-aside-top">\n        <div id="edit-project-btn">\n        -\n        </div>\n    </div>\n    <div id="main-aside-bottom">\n        <div id="add-todo-btn">\n            +\n        </div>\n    </div>\n    </div>\n\n`;function v(t){"li"===t.target.nodeName.toLowerCase()&&t.srcElement.classList.toggle("done")}function f(t){console.log("Clicked edit task")}function h(t){console.log("Clicked on edit project")}function b(t){console.log("Clicked on add task")}function m(t){t.preventDefault();const n={name:t.target.querySelector("#name").value,description:t.target.querySelector("#description").value};e().publish("newProject",n),O()}function y(t){const e=document.querySelector(".modal-content");let n=t.target;do{if(n==e)return;n=n.parentNode}while(n);O()}function k(t,e,n){let i=document.createElement("label");i.textContent=e,i.setAttribute("for",t),n.appendChild(i)}function j(t,e,n,i){let o=document.createElement("input");o.type=t,o.setAttribute("id",e),n&&o.setAttribute("required",""),i.appendChild(o)}function g(){let t=document.querySelector(".modal");t.innerHTML=`\n        <div class="modal-content">\n            <div class="modal-content-header"><h1>${"Add Project"}</h1></div>\n            <div class="modal-content-body">\n                <form>\n                </form>\n            </div>\n        </div>    \n    `;let e=t.querySelector("form");e.setAttribute("id","add-project"),k("name","Project name:",e),j("text","name",!0,e),k("description","Project description:",e),j("text","description",!1,e),function(t,e){let n=document.createElement("input");n.type="submit",n.setAttribute("value",t),e.appendChild(n)}("Ok",e),e.addEventListener("submit",m),t.style.display="flex"}function O(){let t=document.querySelector(".modal");t.innerHTML="",t.style.display="none"}const x=[];function P(t,e){let n=[];for(let i=1;i<=t;i++){const t=new TaskList(`Main task #${i}`);let o=[];for(let t=1;t<=e;t++){let e=new Task(`a subtask #${t}`);1==Math.round(Math.random())&&(e.isDone=!0),o.push(e)}t.tasks=o,n.push(t)}return n.push(new Task("A random task without subtasks")),n}!function(){let t=document.getElementById("content");!function(t){for(let e=1;e<=t;e++){let t=new Project(`Project ${e}`,`This is a placeholder project description for project #${e}`);t.tasks=P(3,4),x.push(t)}}(4),d(t,x),function(t){const e=document.createElement("div");e.setAttribute("id","main-content"),e.innerHTML=p,e.querySelector(".task-todos").addEventListener("click",v),e.querySelectorAll(".edit-task-btn").forEach((t=>t.addEventListener("click",f))),e.querySelector("#edit-project-btn").addEventListener("click",h),e.querySelector("#add-todo-btn").addEventListener("click",b),t.appendChild(e)}(t),function(){const t=document.createElement("div");t.setAttribute("class","modal"),t.addEventListener("mousedown",y),document.querySelector("body").appendChild(t),e().subscribe("addProjectClick",g)}(),e().subscribe("newProject",((t,n)=>function(t,n){console.log("New project added.");const i=new Project(n.name,n.description);x.push(i),e().publish("projectsUpdated",x)}(0,n))),e().subscribe("getProject",((t,n)=>function(t,n){e().publish("returnProject",x[n])}(0,n)))}()})()})();